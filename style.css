/* --- Global Styles & Base Elements --- */
body {
    background-color: #1a1a1a; /* Dark charcoal background for the default dark theme */
    color: #f0f0f0; /* Light off-white text color for contrast */
    font-family: 'Arial', sans-serif; /* Clean, sans-serif font */
    line-height: 1.6; /* Enhances readability with line spacing */
    margin: 0; /* Resets default browser outer margins */
    padding: 0; /* Resets default browser inner padding */
}

a {
    color: #6699CC; /* Default link color (your chosen blue) */
    text-decoration: none; /* Removes default underline */
}

a:hover {
    text-decoration: underline; /* Adds underline on hover for feedback */
}

h1, h2, h3, h4, h5, h6 {
    color: #ffffff; /* Pure white text color for headings */
    margin-top: 1.25rem;
    margin-bottom: 0.625rem;
}

/* --- Header & Navigation Bar --- */
header {
    background-color: #000000; /* Solid black background for the header */
    padding: 0.9375rem 2%; /* Vertical padding and horizontal padding for content */
    border-bottom: 1px solid #333; /* Subtle dark gray border at the bottom */
    display: flex; /* Enables Flexbox for horizontal arrangement */
    align-items: center; /* Vertically centers items */
    justify-content: space-between; /* Distributes items with space between them */
}

#site-name {
    font-size: 1.8em;
    font-weight: bold;
    white-space: nowrap; /* Prevents wrapping */
    flex-shrink: 0; /* Prevents shrinking */
}

#site-name a {
    color: #f0f0f0; /* Site name link color in dark theme */
    text-decoration: none;
    transition: color 0.3s ease;
}

#site-name a:hover {
    color: #91aecc; /* Lighter blue on hover */
    text-decoration: none;
}

nav ul {
    list-style: none; /* Removes bullet points */
    padding: 0;
    margin: 0;
    display: flex; /* Arranges list items horizontally */
    gap: 1.875rem; /* Space between navigation items */
    flex-grow: 1; /* Allows navigation to take available space */
    justify-content: center; /* Centers navigation items within its space */
}

nav a {
    color: #f0f0f0; /* Navigation link text color */
    font-weight: bold;
    font-size: 1.1em;
    padding: 0.3125rem 0.625rem;
    transition: color 0.3s ease;
}

nav a:hover {
    color: #91aecc; /* Lighter blue on hover */
    text-decoration: none;
}

/* --- Theme Toggle Button --- */
#theme-toggle {
    background: none;
    border: none;
    color: #f0f0f0; /* Icon/text color for dark theme */
    font-size: 1.5em;
    cursor: pointer;
    padding: 0.5%;
    z-index: 100; /* Ensures button is above other content */
    transition: color 0.3s ease;
    flex-shrink: 0; /* Prevents shrinking */
}

#theme-toggle:hover {
    color: #91aecc; /* Lighter blue on hover */
}

/* --- Main Content Area --- */
main {
    max-width: 90%; /* Limits content width */
    margin: 2.5rem auto; /* Centers content horizontally and adds top/bottom margin */
    padding: 0 1.25rem; /* Horizontal padding for smaller screens */
}

/* --- Hero Section: Profile Photo & Bio --- */
#hero {
    display: flex; /* Enables Flexbox */
    flex-direction: column; /* Stacks items vertically by default (mobile-first) */
    align-items: center; /* Centers items horizontally */
    text-align: center; /* Centers all text content */
    padding: 1rem;
}

#image-container {
    display: flex; /* Enables Flexbox for arranging photo, social, and CV button */
    flex-direction: column; /* Stacks these items vertically */
    align-items: center; /* Centers items horizontally within its column */
    margin-bottom: 2rem; /* Space below the image block */
}

#image-container img {
    width: 250px; /* Fixed width for profile picture */
    height: 250px; /* Ensures square image */
    border-radius: 50%; /* Makes image circular */
    object-fit: cover; /* Ensures image covers circle without distortion */
    border: 3px solid #6699CC; /* Decorative border around image */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.4); /* Shadow for depth */
    margin-bottom: 1.5rem; /* Space below the photo, before social links */
}

/* --- Social Media Links (now below the photo) --- */
#social-links {
    display: flex; /* Arranges social icons horizontally */
    justify-content: center; /* Centers icons */
    gap: 1.5rem; /* Space between icons */
    margin-bottom: 1.5rem; /* Space between social links and CV button */
}

#social-links a {
    font-size: 2.2rem; /* Icon size */
    color: #888; /* Gray color for dark theme */
    transition: color 0.3s ease;
    line-height: 1; /* Ensures vertical alignment for font icons */
}

/* Styles for SVG icons within social-links (like Scopus) */
#social-links a svg {
    width: 2.2rem; /* Set width equal to font-size of other icons */
    height: auto; /* Maintain aspect ratio */
    color: #888; /* Color for SVG in dark theme */
    transition: color 0.3s ease;
    vertical-align: middle; /* Helps align SVG with font icons */
}

#social-links a:hover {
    color: #6699CC; /* Blue on hover */
}

/* --- CV Download Button (now below social links) --- */
#cv-download {
    text-align: center; /* Centers the button */
}

#cv-download .button {
    display: inline-block;
    background-color: #486f96; /* Button background color */
    color: white;
    padding: 0.8rem 1.5rem;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s ease;
    font-size: 1.1rem;
}

#cv-download .button:hover {
    background-color: #2a6fb4; /* Darker blue on hover */
}

#cv-download .button i {
    margin-left: 0.5rem;
    font-size: 1.1rem;
}

#bio-text-container {
    width: 100%; /* Full width on small screens */
    text-align: center; /* Center text within this container for mobile */
}

#hero h1 {
    font-size: 2.8em;
    margin-bottom: 0.25rem;
}

#hero p {
    font-size: 1.2em;
    max-width: 100%;
    margin-bottom: 0;
}

/* --- Latest Publications Section --- */
#latest-publications {
    background-color: #2a2a2a; /* Slightly lighter dark gray background */
    padding: 1.875rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.2);
}

#latest-publications h2 {
    font-size: 2em;
    margin-bottom: 1.5625rem;
    text-align: center;
}

#latest-publications ul {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
}

#latest-publications li {
    margin-bottom: 0.9375rem;
    font-size: 1.1em;
}

#latest-publications li a {
    color: #6699CC;
    font-weight: normal;
}

#latest-publications li a:hover {
    color: #91aecc;
    text-decoration: underline;
}

/* --- Publications Layout (General) --- */
#journal-articles-container,
#working-papers-container,
#latest-publications-dashboard {
    display: flex;
    flex-direction: column; /* Stack items vertically on mobile */
    gap: 1.5rem; /* Space between each publication item */
}

.publication-item {
    display: flex;
    flex-direction: column; /* Stack image and details on mobile */
    align-items: center; /* Center items when stacked on mobile */
    background-color: #2a2a2a;
    padding: 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.2rem 0.4rem rgba(0, 0, 0, 0.30);
    text-align: center; /* Center text on mobile */
}

.pub-image-wrapper {
    flex-shrink: 0; /* Prevent image from shrinking */
    width: 8rem; /* Fixed width for journal covers */
    height: 10rem; /* Fixed height for journal covers */
    margin-bottom: 1rem; /* Space between image and text on mobile */
    overflow: hidden; /* Hides parts of the image that spill out */
    border-radius: 0.25rem; /* Slightly rounded corners */
}

.pub-image-wrapper img {
    width: 100%;
    height: 100%; /* Image fills its container */
    object-fit: cover; /* Crops image to fill container without distortion */
    display: block; /* Removes extra space below image */
    border: 1px solid #444; /* Subtle border for the cover */
}

.pub-details {
    flex-grow: 1; /* Allow details to take available space */
    width: 100%; /* Full width on mobile */
}

.pub-type-label {
    display: inline-block;
    background-color: #6699CC; /* Your blue color */
    color: #fff;
    font-size: 0.8em;
    padding: 0.2em 0.5em;
    border-radius: 0.2em;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    font-weight: bold;
}

.publication-item h3 {
    font-size: 1.5em;
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
}

.publication-item h3 a {
    color: #ffffff; /* White link for title */
}

.publication-item h3 a:hover {
    color: #91aecc; /* Lighter blue on hover */
    text-decoration: underline;
}

.pub-authors {
    font-size: 0.95em;
    color: #ccc;
    margin-bottom: 0.3rem;
}

.pub-journal-info {
    font-size: 0.9em;
    color: #999;
    margin-bottom: 0.5rem;
}

.pub-abstract {
    font-size: 1em;
    color: #f0f0f0;
    margin-top: 1rem;
    text-align: justify;
    width: 100%; /* Full width on mobile */
    max-width: 100%; /* Ensures it doesn't exceed container width */
}

/* --- Abstract Toggle --- */
.toggle-abstract-btn {
    background-color: #4f5e6d;
    color: #fff;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 0.3rem;
    cursor: pointer;
    font-size: 0.9em;
    margin-top: 1rem;
    transition: background-color 0.3s ease;
}

.toggle-abstract-btn:hover {
    background-color: #5588bb;
}

.pub-abstract-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
    padding-top: 0;
    margin-top: 0;
}

.pub-abstract-content.show-abstract {
    padding-top: 1rem;
}

/* --- Section Divider --- */
.section-divider {
    border: 0;
    height: 1px;
    background-color: #333;
    margin: 3rem 0;
}

/* --- Footer --- */
footer {
    text-align: center;
    padding: 1.25rem;
    margin-top: 2.5rem;
    color: #999;
    font-size: 0.9em;
    border-top: 1px solid #333;
}

/* --- Light Theme Styles --- */
body.light-theme {
    background-color: #f0f0f0;
    color: #333;
}

body.light-theme a {
    color: #6699CC;
}

body.light-theme nav a {
    color: #333;
}

body.light-theme nav a:hover {
    color: #91aecc;
}

body.light-theme h1,
body.light-theme h2,
body.light-theme h3,
body.light-theme h4,
body.light-theme h5,
body.light-theme h6 {
    color: #222;
}

body.light-theme header {
    background-color: #e0e0e0;
    border-bottom-color: #bbb;
}

body.light-theme #site-name a {
    color: #333;
}

body.light-theme #site-name a:hover {
    color: #91aecc;
}

body.light-theme #image-container img {
    border-color: #c7c7c7; /* Lighter border for image in light theme */
}

body.light-theme #social-links a {
    color: #444; /* Darker color for social icons */
}

body.light-theme #social-links a svg {
    color: #444; /* Darker color for SVG in light theme */
}

body.light-theme #social-links a:hover {
    color: #91aecc;
}

body.light-theme #cv-download .button {
    background-color: #6699CC;
    color: #fff;
}

body.light-theme #cv-download .button:hover {
    background-color: #557aa5;
}

body.light-theme #latest-publications {
    background-color: #ffffff;
    box-shadow: 0 0.4rem 0.8rem rgba(0, 0, 0, 0.15);
}

body.light-theme footer {
    color: #666;
    border-top-color: #bbb;
}

body.light-theme #theme-toggle {
    color: #333;
}

body.light-theme #theme-toggle:hover {
    color: #91aecc;
}

body.light-theme .publication-item {
    background-color: #ffffff;
    box-shadow: 0 0.4rem 0.8rem rgba(0, 0, 0, 0.20);
}

body.light-theme .pub-image-wrapper img {
    border: 1px solid #ddd;
}

body.light-theme .pub-type-label {
    background-color: #6699CC;
    color: #fff;
}

body.light-theme .publication-item h3 a {
    color: #222;
}

body.light-theme .publication-item h3 a:hover {
    color: #91aecc;
}

body.light-theme .pub-authors,
body.light-theme .pub-journal-info {
    color: #555;
}

body.light-theme .pub-abstract {
    color: #333;
}

body.light-theme .toggle-abstract-btn {
    background-color: #eee;
    color: #333;
    border: 1px solid #ccc;
}

body.light-theme .toggle-abstract-btn:hover {
    background-color: #ddd;
    color: #222;
}

body.light-theme .section-divider {
    background-color: #bbb;
}

/* --- Media Queries (for larger screens) --- */
@media (min-width: 768px) {
    header {
        justify-content: space-between;
        padding-left: 2%;
        padding-right: 2%;
    }

    nav {
        flex-grow: 1;
        justify-content: center;
    }

    #hero {
        flex-direction: row; /* Image and text side-by-side */
        text-align: left; /* Aligns text to the left */
        align-items: flex-start; /* Aligns items to the top */
        gap: 5%; /* Space between image column and text column */
        justify-content: center; /* Centers the entire hero block horizontally */
        padding: 1rem;
    }

    #image-container {
        flex-shrink: 0;
        margin-bottom: 0; /* Remove bottom margin when side-by-side */
        align-items: flex-start; /* Align elements to the left within image-container */
    }

    #image-container img {
        margin-bottom: 1.5rem; /* Space below the image on desktop */
    }

    #social-links {
        justify-content: flex-start; /* Align social icons to the left on desktop */
    }

    #cv-download {
        text-align: left; /* Align CV button to the left on desktop */
    }

    #bio-text-container {
        flex-grow: 1;
        max-width: 60%; /* Limits text width for readability */
        text-align: left;
        margin-top: 0;
        padding-right: 1.25rem;
    }

    #hero h1,
    #hero p {
        text-align: left;
    }

    .publication-item {
        flex-direction: row; /* Align image and details side-by-side */
        text-align: left; /* Align text to the left */
        align-items: flex-start; /* Align items to the top */
        gap: 2rem; /* Space between image and details */
    }

    .pub-image-wrapper {
        margin-bottom: 0; /* Remove bottom margin when side-by-side */
        margin-right: 0; /* Ensures no extra right margin */
    }

    .pub-details {
        width: auto;
    }

    .pub-abstract {
        max-width: 10ch; /* Limit line length for better readability on wider screens */
    }
}